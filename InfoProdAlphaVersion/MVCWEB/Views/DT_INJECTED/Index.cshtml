@model MVCWEB.Models.EmployeeViewModel

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout_user.cshtml";
}

@section test{
<script type="text/javascript" src="~/Scripts/datepicker.min.js"></script>


    <div class="row">
<div class="col-md-12">
    <div class="panel panel-flat">
        <div class="panel-heading">
            <div class="row">
                <div class="col-md-4"><h6 class="panel-title">Suivi par date d'injection et par titre pour chaque activité</h6></div>
                @*<div class="col-xs-1 date">
                    <div class="input-group input-append date">
                        <span class="input-group-addon"><i class="icon-calendar22"></i></span>
                        <input type="text" value="Sélectionner l'année" class="form-control" name="date" id="datePickerAnnee" onchange="getSelectedTitreCalcul()">
                    </div>
                </div>*@
            </div>
            <div class="heading-elements">
                <ul class="icons-list">
                    @*<li><a href="@Url.Action("Index", "Objectifs")"><i class="icon-gear" style="font-size:18px;"></i>&nbsp; Paramètres Objectifs</a></li>*@         
                    <li><a data-action="collapse"></a></li>
                    
                </ul>
            </div>
        </div>

        <div class="panel-body">
            <div class="tabbable">
                <ul class="nav nav-tabs bg-teal-400 nav-justified" style="height: 50px;">                    
                                            @foreach (var gr in ViewBag.Groupes) {
                                                <li>
                                                    @if (gr == "GISI-REAB")
                                                    {
                                                    <a href= "#GISI_REAB-tab1" data-toggle="tab">@gr</a>
                                                    }
                                                    @if (gr == "GISI-PROMO")
                                                    {
                                                        <a href="#GISI_PROMO-tab2" data-toggle="tab">@gr</a>
                                                    }
                                                    @if (gr == "GMT-REAB")
                                                    {
                                                        <a href="#GMT_REAB-tab3" data-toggle="tab">@gr</a>
                                                    }
                                                    @if (gr == "GMT-PROMO")
                                                    {
                                                        <a href="#GMT_PROMO-tab4" data-toggle="tab">@gr</a>
                                                    }
                                                </li>                            
                                            }                                  
                </ul>

                <div class="tab-content">
                    <div class="tab-pane active" id="GISI_REAB-tab1">
                     
                        <div class="row">
                            @*<h6 class="col-xs-2 control-label">Choisir une date d'injection</h6>*@
                            <h4 class="col-xs-2 control-label"><code>Par Date d'Injection</code></h4>
                            <div class="col-xs-3 control-label">
                                @Html.DropDownList("DateInjDropDown1", new SelectList(string.Empty, "Value", "Text"), new { style = "height: 40px;", @class = "form-control" })
                            </div>
                        </div>
                        <br/>
                        <div class="row">
                            <form>
                                @foreach (var t1 in ViewBag.TitresGisiReab)
                                {
                                    <div class="row-md-12">
                                        <div class="col-md-2">
                                            <label class="radio-inline">
                                                <input id="SelectedTitre1" type="radio" name="SelectedTitre1" checked="checked" value="@t1">
                                                @t1
                                            </label>
                                        </div>
                                    </div>
                                }
                            </form>
                        </div> <br/>
                      
                            <div class="table-responsive" style="margin-left: 5cm;">
                                    <div class="col-md-5">
                                        <table class="table" id="Grid1" style="text-align:center;">
                                            <thead>
                                                <tr class="bg-grey-300">
                                                    <th style="text-align:center;">Total Fiches Injectées</th>
                                                    <th style="text-align:center;">Total CA</th>
                                                    <th style="text-align:center;">Total CA+</th>
                                                </tr>
                                            </thead>
                                            <tbody style="background-color: #D3D3D3;"> </tbody>
                                        </table>
                                    </div>
                                    <div class="col-md-6">
                                        <table class="table" id="Grid11" style="text-align:center;">
                                            <thead>
                                                <tr class="bg-grey-300">
                                                    <th style="text-align:center;">Taux CA</th>
                                                    <th style="text-align:center;">Taux CA+</th>
                                                    <th style="text-align:center;">Objectif d'Accords</th>
                                                    <th style="text-align:center;">Réel VS Objectif</th>
                                                </tr>
                                            </thead>
                                            <tbody style="background-color: #D3D3D3;"></tbody>
                                        </table>
                                    </div>
                                 </div>
                    <br/><br />
                        <div class="row">
                            <h4 class="col-xs-2 control-label"><code>Par Sélection du Mois</code></h4>
                            <div class="col-xs-3 date">
                                <div class="input-group input-append date">
                                    <span class="input-group-addon"><i class="icon-calendar22"></i></span>
                                    <input type="text" value="Sélectionner Mois" class="form-control" name="dateMois" id="datePickerMois">
                                </div>
                            </div>
                        </div>
                        <br/>
                        <div class="table-responsive">
                                <table class="table" id="Grid111" style="text-align:center;">
                                    <thead>
                                        <tr class="bg-grey-300">
                                            <th style="text-align:center;">Titre</th>
                                            <th style="text-align:center;">Total Fiches Injectées</th>
                                            <th style="text-align:center;">Total CA</th>
                                            <th style="text-align:center;">Total CA+</th>
                                            <th style="text-align:center;">Taux CA</th>
                                            <th style="text-align:center;">Taux CA+</th>
                                            <th style="text-align:center;">Objectif d'Accords</th>
                                            <th style="text-align:center;">Réel VS Objectif</th>
                                        </tr>
                                    </thead>
                                    <tbody style="background-color: #D3D3D3;"> </tbody>
                                </table>
                            </div>
                        </div>

                    <div class="tab-pane" id="GISI_PROMO-tab2">
                        <div class="row">
                            <h4 class="col-xs-2 control-label"><code>Par Date d'Injection</code></h4>
                            <div class="col-xs-3 control-label">
                                @Html.DropDownList("DateInjDropDown2", new SelectList(string.Empty, "Value", "Text"), new { style = "height: 40px;", @class = "form-control" })
                            </div>
                        </div>
                        <br />
                        <div class="row">
                            <form>
                                @foreach (var t2 in ViewBag.TitresGisiPromo)
    {
                                    <div class="row-md-12">
                                        <div class="col-md-2">
                                            <label class="radio-inline">
                                                <input id="SelectedTitre2" type="radio" name="SelectedTitre2" checked="checked" value="@t2">
                                                @t2
                                            </label>
                                        </div>
                                    </div>
                                }
                            </form>
                        </div> <br />

                        <div class="table-responsive" style="margin-left: 5cm;">
                            <div class="col-md-5">
                                <table class="table" id="Grid2" style="text-align:center;">
                                    <thead>
                                        <tr class="bg-grey-300">
                                            <th style="text-align:center;">Total Fiches Injectées</th>
                                            <th style="text-align:center;">Total CA</th>
                                            <th style="text-align:center;">Total CA+</th>
                                        </tr>
                                    </thead>
                                    <tbody style="background-color: #D3D3D3;"> </tbody>
                                </table>
                            </div>
                            <div class="col-md-6">
                                <table class="table" id="Grid22" style="text-align:center;">
                                    <thead>
                                        <tr class="bg-grey-300">
                                            <th style="text-align:center;">Taux CA</th>
                                            <th style="text-align:center;">Taux CA+</th>
                                            <th style="text-align:center;">Objectif d'Accords</th>
                                            <th style="text-align:center;">Réel VS Objectif</th>
                                        </tr>
                                    </thead>
                                    <tbody style="background-color: #D3D3D3;"></tbody>
                                </table>
                            </div>
                        </div>
                        <br /><br />
                        <div class="row">
                            <h4 class="col-xs-2 control-label"><code>Par Sélection du Mois</code></h4>
                            <div class="col-xs-3 date">
                                <div class="input-group input-append date">
                                    <span class="input-group-addon"><i class="icon-calendar22"></i></span>
                                    <input type="text" value="Sélectionner Mois" class="form-control" name="dateMois" id="datePickerMois2">
                                </div>
                            </div>
                        </div>
                        <br />
                        <div class="table-responsive">
                            <table class="table" id="Grid222" style="text-align:center;">
                                <thead>
                                    <tr class="bg-grey-300">
                                        <th style="text-align:center;">Titre</th>
                                        <th style="text-align:center;">Total Fiches Injectées</th>
                                        <th style="text-align:center;">Total CA</th>
                                        <th style="text-align:center;">Total CA+</th>
                                        <th style="text-align:center;">Taux CA</th>
                                        <th style="text-align:center;">Taux CA+</th>
                                        <th style="text-align:center;">Objectif d'Accords</th>
                                        <th style="text-align:center;">Réel VS Objectif</th>
                                    </tr>
                                </thead>
                                <tbody style="background-color: #D3D3D3;"> </tbody>
                            </table>
                        </div>
                    </div>
                       


                    <div class="tab-pane" id="GMT_REAB-tab3">
                        <div class="row">
                            <h4 class="col-xs-2 control-label"><code>Par Date d'Injection</code></h4>
                            <div class="col-xs-3 control-label">
                                @Html.DropDownList("DateInjDropDown3", new SelectList(string.Empty, "Value", "Text"), new { style = "height: 40px;", @class = "form-control" })
                            </div>
                        </div>
                        <br />
                        <div class="row">
                            <form>
                                @foreach (var t3 in ViewBag.TitresGmtReab)
                                    {
                                    <div class="row-md-12">
                                        <div class="col-md-2">
                                            <label class="radio-inline">
                                                <input id="SelectedTitre3" type="radio" name="SelectedTitre3" checked="checked" value="@t3">
                                                @t3
                                            </label>
                                        </div>
                                    </div>
                                }
                            </form>
                        </div> <br />

                        <div class="table-responsive" style="margin-left: 5cm;">
                            <div class="col-md-5">
                                <table class="table" id="Grid3" style="text-align:center;">
                                    <thead>
                                        <tr class="bg-grey-300">
                                            <th style="text-align:center;">Total Fiches Injectées</th>
                                            <th style="text-align:center;">Total CA</th>
                                            <th style="text-align:center;">Total CA+</th>
                                        </tr>
                                    </thead>
                                    <tbody style="background-color: #D3D3D3;"> </tbody>
                                </table>
                            </div>
                            <div class="col-md-6">
                                <table class="table" id="Grid33" style="text-align:center;">
                                    <thead>
                                        <tr class="bg-grey-300">
                                            <th style="text-align:center;">Taux CA</th>
                                            <th style="text-align:center;">Taux CA+</th>
                                            <th style="text-align:center;">Objectif d'Accords</th>
                                            <th style="text-align:center;">Réel VS Objectif</th>
                                        </tr>
                                    </thead>
                                    <tbody style="background-color: #D3D3D3;"></tbody>
                                </table>
                            </div>
                        </div>
                        <br /><br />
                        <div class="row">
                            <h4 class="col-xs-2 control-label"><code>Par Sélection du Mois</code></h4>
                            <div class="col-xs-3 date">
                                <div class="input-group input-append date">
                                    <span class="input-group-addon"><i class="icon-calendar22"></i></span>
                                    <input type="text" value="Sélectionner Mois" class="form-control" name="dateMois" id="datePickerMois3">
                                </div>
                            </div>
                        </div>
                        <br />
                        <div class="table-responsive">
                            <table class="table" id="Grid333" style="text-align:center;">
                                <thead>
                                    <tr class="bg-grey-300">
                                        <th style="text-align:center;">Titre</th>
                                        <th style="text-align:center;">Total Fiches Injectées</th>
                                        <th style="text-align:center;">Total CA</th>
                                        <th style="text-align:center;">Total CA+</th>
                                        <th style="text-align:center;">Taux CA</th>
                                        <th style="text-align:center;">Taux CA+</th>
                                        <th style="text-align:center;">Objectif d'Accords</th>
                                        <th style="text-align:center;">Réel VS Objectif</th>
                                    </tr>
                                </thead>
                                <tbody style="background-color: #D3D3D3;"> </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-pane" id="GMT_PROMO-tab4">
                        <div class="row">
                            <h4 class="col-xs-2 control-label"><code>Par Date d'Injection</code></h4>
                            <div class="col-xs-3 control-label">
                                @Html.DropDownList("DateInjDropDown4", new SelectList(string.Empty, "Value", "Text"), new { style = "height: 40px;", @class = "form-control" })
                            </div>
                        </div>
                        <br />
                        <div class="row">
                            <form>
                                @foreach (var t4 in ViewBag.TitresGmtPromo)
                                 {
                                    <div class="row-md-12">
                                        <div class="col-md-2">
                                            <label class="radio-inline">
                                                <input id="SelectedTitre4" type="radio" name="SelectedTitre4" checked="checked" value="@t4">
                                                @t4
                                            </label>
                                        </div>
                                    </div>
                                }
                            </form>
                        </div> <br />

                        <div class="table-responsive" style="margin-left: 5cm;">
                            <div class="col-md-5">
                                <table class="table" id="Grid4" style="text-align:center;">
                                    <thead>
                                        <tr class="bg-grey-300">
                                            <th style="text-align:center;">Total Fiches Injectées</th>
                                            <th style="text-align:center;">Total CA</th>
                                            <th style="text-align:center;">Total CA+</th>
                                        </tr>
                                    </thead>
                                    <tbody style="background-color: #D3D3D3;"> </tbody>
                                </table>
                            </div>
                            <div class="col-md-6">
                                <table class="table" id="Grid44" style="text-align:center;">
                                    <thead>
                                        <tr class="bg-grey-300">
                                            <th style="text-align:center;">Taux CA</th>
                                            <th style="text-align:center;">Taux CA+</th>
                                            <th style="text-align:center;">Objectif d'Accords</th>
                                            <th style="text-align:center;">Réel VS Objectif</th>
                                        </tr>
                                    </thead>
                                    <tbody style="background-color: #D3D3D3;"></tbody>
                                </table>
                            </div>
                        </div>
                        <br /><br />
                        <div class="row">
                            <h4 class="col-xs-2 control-label"><code>Par Sélection du Mois</code></h4>
                            <div class="col-xs-3 date">
                                <div class="input-group input-append date">
                                    <span class="input-group-addon"><i class="icon-calendar22"></i></span>
                                    <input type="text" value="Sélectionner Mois" class="form-control" name="dateMois" id="datePickerMois4">
                                </div>
                            </div>
                        </div>
                        <br />
                        <div class="table-responsive">
                            <table class="table" id="Grid444" style="text-align:center;">
                                <thead>
                                    <tr class="bg-grey-300">
                                        <th style="text-align:center;">Titre</th>
                                        <th style="text-align:center;">Total Fiches Injectées</th>
                                        <th style="text-align:center;">Total CA</th>
                                        <th style="text-align:center;">Total CA+</th>
                                        <th style="text-align:center;">Taux CA</th>
                                        <th style="text-align:center;">Taux CA+</th>
                                        <th style="text-align:center;">Objectif d'Accords</th>
                                        <th style="text-align:center;">Réel VS Objectif</th>
                                    </tr>
                                </thead>
                                <tbody style="background-color: #D3D3D3;"> </tbody>
                            </table>
                        </div>
                    </div>





                </div>
            </div>
        </div>
    </div>
</div>
</div>

        <script> 
        $("#datePickerMois").datepicker({
            format: "yyyy-mm",
            viewMode: "months",
            minViewMode: "months",
            autoclose: true
        });
        $("#datePickerMois").datepicker("setDate", new Date());

        $("#datePickerMois2").datepicker({
            format: "yyyy-mm",
            viewMode: "months",
            minViewMode: "months",
            autoclose: true
        });
        $("#datePickerMois2").datepicker("setDate", new Date());

        $("#datePickerMois3").datepicker({
            format: "yyyy-mm",
            viewMode: "months",
            minViewMode: "months",
            autoclose: true
        });
        $("#datePickerMois3").datepicker("setDate", new Date());

        $("#datePickerMois4").datepicker({
            format: "yyyy-mm",
            viewMode: "months",
            minViewMode: "months",
            autoclose: true
        });
        $("#datePickerMois4").datepicker("setDate", new Date());
</script>

 @*Script pour GISI REAB*@
<script type="text/javascript">
    $(document).ready(function () {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetDatesInjGISIREAB")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre1:checked").val()
            },
            success: function (DatesInjectionItems) {

                $.each(DatesInjectionItems, function (i, di) {
                    $("#DateInjDropDown1").append('<option value="' + di.Value + '">' +
                        di.Text + '</option>');
                });
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetValuesGISIREAB")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre1:checked").val(),
                DateInj: $("#DateInjDropDown1").val()
            },
            success: function (c) {
                var tblHtml1 = "";
                var tblHtml11 = "";
                $.each(c, function (index, cal) {
                    tblHtml1 += "<tr><td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml1 += "<td>" + cal.TotCA + "</td>";
                    tblHtml1 += "<td>" + cal.TotAccords + "</td></tr>";

                    tblHtml11 += "<tr><td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                    tblHtml11 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml11 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml11 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml11 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml11 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid1 > tbody").html(tblHtml1);
                $("#Grid11 > tbody").html(tblHtml11);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
       
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetMensuelValuesGISIREAB")',
            dataType: 'json',
            data: {
                SelectedMois: $("#datePickerMois").val()
            },
            success: function (c) {              
                var tblHtml111 = "";
                $.each(c, function (index, cal) {
                    tblHtml111 += "<tr><td>" + cal.Titre + "</td>";
                    tblHtml111 += "<td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml111 += "<td>" + cal.TotCA + "</td>";
                    tblHtml111 += "<td>" + cal.TotAccords + "</td>";
                    tblHtml111 += "<td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml111 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml111 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml111 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml111 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml111 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid111 > tbody").html(tblHtml111);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })

    $('input[type=radio][name=SelectedTitre1]').change(function () {
        $("#DateInjDropDown1").empty();
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetDatesInjGISIREAB")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre1:checked").val()
            },
            success: function (DatesInjectionItems) {

                $.each(DatesInjectionItems, function (i, di) {
                 $("#DateInjDropDown1").append('<option value="' + di.Value + '">' +
                     di.Text + '</option>');
                });
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
        return false;
    })
    $("#DateInjDropDown1").change(function(){
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetValuesGISIREAB")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre1:checked").val(),
                DateInj: $("#DateInjDropDown1").val()
            },
            success: function (c) {
                var tblHtml1 = "";
                var tblHtml11 = "";
                $.each(c, function (index, cal) {
                    tblHtml1 += "<tr><td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml1 += "<td>" + cal.TotCA + "</td>";
                    tblHtml1 += "<td>" + cal.TotAccords + "</td></tr>";

                    tblHtml11 += "<tr><td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml11 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml11 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml11 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml11 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml11 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid1 > tbody").html(tblHtml1);
                $("#Grid11 > tbody").html(tblHtml11);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })
    
    $('input[type=radio][name=SelectedTitre1]').change(function () {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetValuesGISIREAB")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre1:checked").val(),
                DateInj: $("#DateInjDropDown1").val()
            },
            success: function (c) {
                var tblHtml1 = "";
                var tblHtml11 = "";
                $.each(c, function (index, cal) {
                    tblHtml1 += "<tr><td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml1 += "<td>" + cal.TotCA + "</td>";
                    tblHtml1 += "<td>" + cal.TotAccords + "</td></tr>";

                    tblHtml11 += "<tr><td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml11 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml11 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml11 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml11 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml11 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid1 > tbody").html(tblHtml1);
                $("#Grid11 > tbody").html(tblHtml11);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })

    $("#datePickerMois").change(function () {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetMensuelValuesGISIREAB")',
            dataType: 'json',
            data: {
                SelectedMois: $("#datePickerMois").val()
            },
            success: function (c) {
                var tblHtml111 = "";
                $.each(c, function (index, cal) {
                    tblHtml111 += "<tr><td>" + cal.Titre + "</td>";
                    tblHtml111 += "<td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml111 += "<td>" + cal.TotCA + "</td>";
                    tblHtml111 += "<td>" + cal.TotAccords + "</td>";
                    tblHtml111 += "<td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml111 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml111 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml111 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml111 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml111 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid111 > tbody").html(tblHtml111);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })

</script>

@*Script pour GISI PROMO*@
<script type="text/javascript">
    $(document).ready(function () {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetDatesInjGISIPROMO")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre2:checked").val()
            },
            success: function (DatesInjectionItems) {

                $.each(DatesInjectionItems, function (i, di) {
                    $("#DateInjDropDown2").append('<option value="' + di.Value + '">' +
                        di.Text + '</option>');
                });
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetValuesGISIPROMO")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre2:checked").val(),
                DateInj: $("#DateInjDropDown2").val()
            },
            success: function (c) {
                var tblHtml2 = "";
                var tblHtml22 = "";
                $.each(c, function (index, cal) {
                    tblHtml2 += "<tr><td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml2 += "<td>" + cal.TotCA + "</td>";
                    tblHtml2 += "<td>" + cal.TotAccords + "</td></tr>";

                    tblHtml22 += "<tr><td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml22 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml22 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml22 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml22 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml22 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid2 > tbody").html(tblHtml2);
                $("#Grid22 > tbody").html(tblHtml22);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });

        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetMensuelValuesGISIPROMO")',
            dataType: 'json',
            data: {
                SelectedMois: $("#datePickerMois2").val()
            },
            success: function (c) {
                var tblHtml222 = "";
                $.each(c, function (index, cal) {
                    tblHtml222 += "<tr><td>" + cal.Titre + "</td>";
                    tblHtml222 += "<td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml222 += "<td>" + cal.TotCA + "</td>";
                    tblHtml222 += "<td>" + cal.TotAccords + "</td>";
                    tblHtml222 += "<td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml222 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml222 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml222 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml222 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml222 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid222 > tbody").html(tblHtml222);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })

    $('input[type=radio][name=SelectedTitre2]').change(function () {
        $("#DateInjDropDown2").empty();
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetDatesInjGISIPROMO")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre2:checked").val()
            },
            success: function (DatesInjectionItems) {

                $.each(DatesInjectionItems, function (i, di) {
                 $("#DateInjDropDown2").append('<option value="' + di.Value + '">' +
                     di.Text + '</option>');
                });
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
        return false;
    })
    $("#DateInjDropDown2").change(function(){
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetValuesGISIPROMO")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre2:checked").val(),
                DateInj: $("#DateInjDropDown2").val()
            },
            success: function (c) {
                var tblHtml2 = "";
                var tblHtml22 = "";
                $.each(c, function (index, cal) {
                    tblHtml2 += "<tr><td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml2 += "<td>" + cal.TotCA + "</td>";
                    tblHtml2 += "<td>" + cal.TotAccords + "</td></tr>";

                    tblHtml22 += "<tr><td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml22 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml22 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml22 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml22 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml22 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid2 > tbody").html(tblHtml2);
                $("#Grid22 > tbody").html(tblHtml22);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })

    $('input[type=radio][name=SelectedTitre2]').change(function () {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetValuesGISIPROMO")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre2:checked").val(),
                DateInj: $("#DateInjDropDown2").val()
            },
            success: function (c) {
                var tblHtml2 = "";
                var tblHtml22 = "";
                $.each(c, function (index, cal) {
                    tblHtml2 += "<tr><td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml2 += "<td>" + cal.TotCA + "</td>";
                    tblHtml2 += "<td>" + cal.TotAccords + "</td></tr>";

                    tblHtml22 += "<tr><td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml22 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml22 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml22 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml22 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml22 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid2 > tbody").html(tblHtml2);
                $("#Grid22 > tbody").html(tblHtml22);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })

    $("#datePickerMois2").change(function () {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetMensuelValuesGISIPROMO")',
            dataType: 'json',
            data: {
                SelectedMois: $("#datePickerMois2").val()
            },
            success: function (c) {
                var tblHtml222 = "";
                $.each(c, function (index, cal) {
                    tblHtml222 += "<tr><td>" + cal.Titre + "</td>";
                    tblHtml222 += "<td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml222 += "<td>" + cal.TotCA + "</td>";
                    tblHtml222 += "<td>" + cal.TotAccords + "</td>";
                    tblHtml222 += "<td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml222 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml222 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml222 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml222 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml222 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid222 > tbody").html(tblHtml222);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })

</script>

@*Script pour GMT REAB*@
<script type="text/javascript">
    $(document).ready(function () {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetDatesInjGMTREAB")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre3:checked").val()
            },
            success: function (DatesInjectionItems) {

                $.each(DatesInjectionItems, function (i, di) {
                    $("#DateInjDropDown3").append('<option value="' + di.Value + '">' +
                        di.Text + '</option>');
                });
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetValuesGMTREAB")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre3:checked").val(),
                DateInj: $("#DateInjDropDown3").val()
            },
            success: function (c) {
                var tblHtml3 = "";
                var tblHtml33 = "";
                $.each(c, function (index, cal) {
                    tblHtml3 += "<tr><td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml3 += "<td>" + cal.TotCA + "</td>";
                    tblHtml3 += "<td>" + cal.TotAccords + "</td></tr>";

                    tblHtml33 += "<tr><td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml33 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml33 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml33 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml33 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml33 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid3 > tbody").html(tblHtml3);
                $("#Grid33 > tbody").html(tblHtml33);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });

        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetMensuelValuesGMTREAB")',
            dataType: 'json',
            data: {
                SelectedMois: $("#datePickerMois3").val()
            },
            success: function (c) {
                var tblHtml333 = "";
                $.each(c, function (index, cal) {
                    tblHtml333 += "<tr><td>" + cal.Titre + "</td>";
                    tblHtml333 += "<td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml333 += "<td>" + cal.TotCA + "</td>";
                    tblHtml333 += "<td>" + cal.TotAccords + "</td>";
                    tblHtml333 += "<td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml333 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml333 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml333 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml333 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml333 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid333 > tbody").html(tblHtml333);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })

    $('input[type=radio][name=SelectedTitre3]').change(function () {
        $("#DateInjDropDown3").empty();
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetDatesInjGMTREAB")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre3:checked").val()
            },
            success: function (DatesInjectionItems) {

                $.each(DatesInjectionItems, function (i, di) {
                 $("#DateInjDropDown3").append('<option value="' + di.Value + '">' +
                     di.Text + '</option>');
                });
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
        return false;
    })
    $("#DateInjDropDown3").change(function(){
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetValuesGMTREAB")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre3:checked").val(),
                DateInj: $("#DateInjDropDown3").val()
            },
            success: function (c) {
                var tblHtml3 = "";
                var tblHtml33 = "";
                $.each(c, function (index, cal) {
                    tblHtml3 += "<tr><td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml3 += "<td>" + cal.TotCA + "</td>";
                    tblHtml3 += "<td>" + cal.TotAccords + "</td></tr>";

                    tblHtml33 += "<tr><td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml33 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml33 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml33 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml33 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml33 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid3 > tbody").html(tblHtml3);
                $("#Grid33 > tbody").html(tblHtml33);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })

    $('input[type=radio][name=SelectedTitre3]').change(function () {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetValuesGMTREAB")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre3:checked").val(),
                DateInj: $("#DateInjDropDown3").val()
            },
            success: function (c) {
                var tblHtml3 = "";
                var tblHtml33 = "";
                $.each(c, function (index, cal) {
                    tblHtml3 += "<tr><td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml3 += "<td>" + cal.TotCA + "</td>";
                    tblHtml3 += "<td>" + cal.TotAccords + "</td></tr>";

                    tblHtml33 += "<tr><td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml33 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml33 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml33 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml33 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml33 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid3 > tbody").html(tblHtml3);
                $("#Grid33 > tbody").html(tblHtml33);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })

    $("#datePickerMois3").change(function () {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetMensuelValuesGMTREAB")',
            dataType: 'json',
            data: {
                SelectedMois: $("#datePickerMois3").val()
            },
            success: function (c) {
                var tblHtml333 = "";
                $.each(c, function (index, cal) {
                    tblHtml333 += "<tr><td>" + cal.Titre + "</td>";
                    tblHtml333 += "<td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml333 += "<td>" + cal.TotCA + "</td>";
                    tblHtml333 += "<td>" + cal.TotAccords + "</td>";
                    tblHtml333 += "<td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml333 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml333 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml333 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml333 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml333 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid333 > tbody").html(tblHtml333);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })

</script>

@*Script pour GMT PROMO*@
<script type="text/javascript">
    $(document).ready(function () {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetDatesInjGMTPROMO")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre4:checked").val()
            },
            success: function (DatesInjectionItems) {

                $.each(DatesInjectionItems, function (i, di) {
                    $("#DateInjDropDown4").append('<option value="' + di.Value + '">' +
                        di.Text + '</option>');
                });
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetValuesGMTPROMO")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre4:checked").val(),
                DateInj: $("#DateInjDropDown4").val()
            },
            success: function (c) {
                var tblHtml4 = "";
                var tblHtml44 = "";
                $.each(c, function (index, cal) {
                    tblHtml4 += "<tr><td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml4 += "<td>" + cal.TotCA + "</td>";
                    tblHtml4 += "<td>" + cal.TotAccords + "</td></tr>";

                    tblHtml44 += "<tr><td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml44 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml44 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml44 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml44 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml44 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid4 > tbody").html(tblHtml4);
                $("#Grid44 > tbody").html(tblHtml44);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });

        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetMensuelValuesGMTPROMO")',
            dataType: 'json',
            data: {
                SelectedMois: $("#datePickerMois4").val()
            },
            success: function (c) {
                var tblHtml444 = "";
                $.each(c, function (index, cal) {
                    tblHtml444 += "<tr><td>" + cal.Titre + "</td>";
                    tblHtml444 += "<td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml444 += "<td>" + cal.TotCA + "</td>";
                    tblHtml444 += "<td>" + cal.TotAccords + "</td>";
                    tblHtml444 += "<td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml444 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml444 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml444 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml444 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml444 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid444 > tbody").html(tblHtml444);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })

    $('input[type=radio][name=SelectedTitre4]').change(function () {
        $("#DateInjDropDown4").empty();
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetDatesInjGMTPROMO")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre4:checked").val()
            },
            success: function (DatesInjectionItems) {

                $.each(DatesInjectionItems, function (i, di) {
                 $("#DateInjDropDown4").append('<option value="' + di.Value + '">' +
                     di.Text + '</option>');
                });
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
        return false;
    })
    $("#DateInjDropDown4").change(function(){
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetValuesGMTPROMO")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre4:checked").val(),
                DateInj: $("#DateInjDropDown4").val()
            },
            success: function (c) {
                var tblHtml4 = "";
                var tblHtml44 = "";
                $.each(c, function (index, cal) {
                    tblHtml4 += "<tr><td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml4 += "<td>" + cal.TotCA + "</td>";
                    tblHtml4 += "<td>" + cal.TotAccords + "</td></tr>";

                    tblHtml44 += "<tr><td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml44 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml44 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml44 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml44 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml44 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid4 > tbody").html(tblHtml4);
                $("#Grid44 > tbody").html(tblHtml44);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })

    $('input[type=radio][name=SelectedTitre4]').change(function () {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetValuesGMTPROMO")',
            dataType: 'json',
            data: {
                SelectedTitre: $("#SelectedTitre4:checked").val(),
                DateInj: $("#DateInjDropDown4").val()
            },
            success: function (c) {
                var tblHtml4 = "";
                var tblHtml44 = "";
                $.each(c, function (index, cal) {
                    tblHtml4 += "<tr><td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml4 += "<td>" + cal.TotCA + "</td>";
                    tblHtml4 += "<td>" + cal.TotAccords + "</td></tr>";

                    tblHtml44 += "<tr><td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml44 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml44 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml44 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml44 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml44 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid4 > tbody").html(tblHtml4);
                $("#Grid44 > tbody").html(tblHtml44);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })

    $("#datePickerMois4").change(function () {
        $.ajax({
            type: 'POST',
            url: '@Url.Action("GetMensuelValuesGMTPROMO")',
            dataType: 'json',
            data: {
                SelectedMois: $("#datePickerMois4").val()
            },
            success: function (c) {
                var tblHtml444 = "";
                $.each(c, function (index, cal) {
                    tblHtml444 += "<tr><td>" + cal.Titre + "</td>";
                    tblHtml444 += "<td>" + cal.TotFichesInjectes + "</td>";
                    tblHtml444 += "<td>" + cal.TotCA + "</td>";
                    tblHtml444 += "<td>" + cal.TotAccords + "</td>";
                    tblHtml444 += "<td>" + cal.TauxCA + "%" + "</td>";
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml444 += "<td><span class='text-success'><i class='icon-stats-growth2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml444 += "<td><span class='text-danger'><i class='icon-stats-decline2 position-left'></i>" + cal.TauxAccords + "%" + "</td>";
                    }
                    tblHtml444 += "<td>" + cal.Objectif + "%" + "</td>";
                    if (cal.TauxAccords < cal.Objectif) {
                        tblHtml444 += "<td><span style='font-size: 12px;' class='label label-danger'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                    if (cal.TauxAccords >= cal.Objectif) {
                        tblHtml444 += "<td><span style='font-size: 12px;' class='label label-success'>" + cal.ReelVSObj + "%" + "</span></td></tr>";
                    }
                });
                $("#Grid444 > tbody").html(tblHtml444);
            },
            error: function (ex) {
                alert('Failed to retrieve states.' + ex);
            }
        });
    })

</script>
    }
@section testProfile{
    <a class="dropdown-toggle" data-toggle="dropdown">
        <img src=@Model.Url alt="">
        <span>@Model.userName</span>
        <i class="caret"></i>
    </a>
    <ul class="dropdown-menu dropdown-menu-right">

        <li><a href="@Url.Action("logout", "Authentification")"><i class="icon-switch2"></i> Logout</a></li>
    </ul>
}
@section sidebarProfile{

    <a href="#" class="media-left"><img src=@Model.Url class="img-circle img-sm" alt=""></a>
    <div class="media-body">
        <span class="media-heading text-semibold">@Model.userName</span>
        <div class="text-size-mini text-muted">
            <i class="icon-user text-size-small"></i> &nbsp;@Model.pseudoName
        </div>
    </div>
    <div class="media-right media-middle">
    </div>

}
@section pagetitle{
    <h4> <span class="text-semibold">Espace Manager</span> -  Suivi Par Injections</h4>
}
@section pagetitlebody{
    <li><a href="#"><i class="icon-home2 position-left"></i> Suivi Par Injections</a></li>
    <li class="active">Par Titre</li>
}
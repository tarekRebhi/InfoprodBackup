
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout_user.cshtml";
}
@model MVCWEB.Models.DirectoryViewModel

@section test{

    <script type="text/javascript" src="/Content/template/Layout 1/LTR/assets/js/plugins/pickers/daterangepicker.js"></script>
    <div class="form-group">
        <div class="row">
            <div class="col-1">
                <div class="col-xs-4">

                    @Html.DropDownList("typeGenerator", Model.topDirectorieDirectories, "-----select-----", htmlAttributes: new { @class = "bootstrap-select", @id = "typeGenerator", @name = "typeGenerator", style = "data-width: 360px;", selected = "selected" })
                    @Html.ValidationMessageFor(model => model.topDirectorieDirectories, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="col-1">
                <div class="col-xs-4">

                    @Html.DropDownList("PseudoName", Model.utilisateursPseudonames, htmlAttributes: new { @class = "bootstrap-select", @id = "PseudoName", @name = "PseudoName", style = "data-width: 360px;", selected = "selected" })
                    @Html.ValidationMessageFor(model => model.utilisateursPseudonames, "", new { @class = "text-danger" })
                </div>
                @*<div class="col-xs-4">

                        @Html.DropDownList("IdHermeses", Model.IdHermeses, htmlAttributes: new { @class = "bootstrap-select", @id = "IdHermeses", @name = "IdHermeses", style = "data-width: 360px;", selected = "selected" })
                        @Html.ValidationMessageFor(model => model.IdHermeses, "", new { @class = "text-danger" })
                    </div>*@
            </div>
            <div class="col-1">
                <div class="col-xs-4 date">
                    <div class="input-group input-append date">
                        <input type="text" class="form-control" name="date" id="datePicker" />
                        <span class="input-group-addon add-on"><span class="glyphicon glyphicon-calendar"></span></span>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="col-1">
        <button id="imedSave" type="submit" class="btn bg-teal-400" data-title="Chercher Enregistrement" value="Chercher Enregistrement" data-toggle="modal">ReCherche <i class="icon-play3 position-right"></i></button>
        @*<button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#modal_theme_info">Launch <i class="icon-play3 position-right"></i></button>*@
    </div>



    @*<div class="panel panel-flat">
            <div class="panel-heading">
                <h6 class="panel-title">Choix Multiple</h6>
                <div class="heading-elements">

                    <button id="calendar2" type="button" class="btn btn-link daterange-ranges heading-btn text-semibold">
                        <i class="icon-calendar3 position-left"></i> <span></span> <b class="caret"></b>
                    </button>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table table-xlg text-blue">
                    <tbody>
                        <tr>
                            <td class="col-1">

                                    <div class="col-xs-4">

                                        @Html.DropDownList("typeGenerator", Model.topDirectorieDirectories, htmlAttributes: new { @class = "bootstrap-select", @id = "typeGenerator", @name = "typeGenerator", style = "data-width: 360px;", selected = "selected" })
                                        @Html.ValidationMessageFor(model => model.topDirectorieDirectories, "", new { @class = "text-danger" })
                                    </div>

                            </td>
                            <td class="col-md-4">
                                <div class="col-xs-4 date">
                                    <div class="input-group input-append date" style="width:260px">
                                        <input type="text" class="form-control" name="date" id="datePicker" />
                                        <span class="input-group-addon add-on"><span class="glyphicon glyphicon-calendar"></span></span>
                                    </div>
                                </div>
                            </td>
                            <td class="col-md-3">

                                <div class="col-xs-4">
                                    @Html.DropDownList("PseudoName", Model.utilisateursPseudonames, htmlAttributes: new { @class = "bootstrap-select", @id = "PseudoName", @name = "PseudoName", style = "data-width: 360px;", selected = "selected" })
                                    @Html.ValidationMessageFor(model => model.utilisateursPseudonames, "", new { @class = "text-danger" })

                                </div>
                            </td>
                            <td class="col-md-3">
                                <div class="col-xs-4">
                                    @Html.DropDownList("IDHERMESES", Model.IdHermeses, htmlAttributes: new { @class = "bootstrap-select", @id = "IDHERMESES", @name = "IDHERMESES", style = "data-width: 360px;", selected = "selected" })
                                    @Html.ValidationMessageFor(model => model.IdHermeses, "", new { @class = "text-danger" })

                                </div>
                            </td>


                        </tr>

                        @*<tr>
                            <td class="text-right col-md-2">
                                <button id="imedSave" type="submit" class="btn bg-teal-400" data-title="Chercher Enregistrement" value="Chercher Enregistrement" data-toggle="modal">ReCherche <i class="icon-arrow-right14 position-fixed"></i></button>
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>
        <br />*@

    @*<button id="imedSave" type="submit" class="btn bg-teal-400" data-title="Chercher Enregistrement" value="Chercher Enregistrement" data-toggle="modal">ReCherche <i class="icon-arrow-right14 position-fixed"></i></button>*@

    @*<script type="text/javascript">
        </div>
                          $(document).ready ( function () {
                              $(document).on("click", "#imedSave", function () {
                                  var utilisateurs = $("#typeGenerator").val();

                                  var test = $("#test").val();


                              $.ajax({
                                  url: '/Directory/Find',
                                  type: "GET",
                                  contentType: "application/json; charset=utf-8",
                                  traditional: true,
                                  data: {"value":test,"utilisateurs": utilisateurs },
                                  datatype: "html",
                                  async: true,
                                  //success: function(data) {
                                  //    $('#explorer1').html(data);
                                  //    $('#modifier').modal('show');
                                  //  },



                              });


                              })
                          })


                </script>*@
    <br />
    @*<div id="modal_theme_info" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header bg-info">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h6 class="modal-title">Info header</h6>
                    </div>
                    <div class="modal-body">
                        <h6 class="text-semibold">Text in a modal</h6>
                        <p>Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p>
                        <hr>
                        <h6 class="text-semibold">Another paragraph</h6>
                        <p>Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>
                        <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-link" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>*@
    <div id="explore1">
    </div>
    <div class="row">
        <div class="col-lg-3 col-sm-6">
        </div>

        <div class="col-lg-3 col-sm-6">
            <img id="loadimage" src="~/Content/Loading-GIF-Image-3.gif" style="display: none; align-content:center" />

        </div>
        <div class="col-lg-3 col-sm-6">

        </div>

    </div>
    <script>
        $('#calendar3')
               .daterangepicker({
                   singleDatePicker: true,
                   locale: {
                       setDate: new Date(),
                       format: 'DD/MM/YYYY',
                       "daysOfWeek": [
            "Dim",
            "Lun",
            "Mar",
            "Mer",
            "Jeu",
            "Ven",
            "Sam"
                       ],
                       "monthNames": [
                           "Jan",
                           "Fev",
                           "Mar",
                           "Avr",
                           "Mai",
                           "Ju",
                           "Jui",
                           "Aou",
                           "Sep",
                           "Oct",
                           "Nov",
                           "December"
                       ],
                   },
                   lan: 'fr',
                   autoclose: true,
               })
               .on('changeDate', function (e) {
                   $('#calendar3').hide();
               });

    </script>
    <script>
        $('#datePicker')
               .daterangepicker({
                   singleDatePicker: true,
                   locale: {
                       setDate: new Date(),
                       format: 'DD/MM/YYYY',
                       "daysOfWeek": [
            "Dim",
            "Lun",
            "Mar",
            "Mer",
            "Jeu",
            "Ven",
            "Sam"
                       ],
                       "monthNames": [
                           "Jan",
                           "Fev",
                           "Mar",
                           "Avr",
                           "Mai",
                           "Ju",
                           "Jui",
                           "Aou",
                           "Sep",
                           "Oct",
                           "Nov",
                           "December"
                       ],
                   },
                   lan: 'fr',
                   autoclose: true,
               })
               .on('changeDate', function (e) {
                   $('#datepicker').hide();
               });

    </script>
    <script type="text/javascript">

        $(document).ready(function () {
            $(document).on("click", "#imedSave", function () {
                $('#explore1').hide();

                $('#loadimage').show();

                $.ajax({
                    url: '/Directory/Find2',
                    type: 'POST',
                    datatype: 'json',
                    data: {
                        utilisateurs: $("#typeGenerator").val(),
                        date: $("#datePicker").val(),
                        pseudoNames: $("#PseudoName").val()
                    },
                    async: true,
                    success: function (data) {
                        $('#explore1').html(data);
                        $('#errorFile').modal('show');
                        $('#errorFile2').modal('show');

                        //alert("utilisateur"+" "+$("#typeGenerator").val()+" "+""+ $("#datePicker").val())
                    },
                    complete: function () {
                        $('#loadimage').hide();
                        $('#explore1').show();

                    }
                });
            })
        })
    </script>
    @*<script type="text/javascript">

                $(document).ready(function () {
                    $(document).on("change", "#typeGenerator", function () {


                        $.ajax({
                            url: '/Directory/GetChildrenofDirectory',
                            type: 'POST',
                            datatype: 'json',
                            data: {
                                children: $("#typeGenerator").val(),

                            },
                            async: true,
                            success: function (data) {
                                $('#explore1').html(data);
                                $('#childrens').modal('show');

                            },

                        });
                    })
                })
        </script>*@
}
@*$('#loading-image').bind('ajaxStart', function(){
        $(this).show();
    }).bind('ajaxStop', function(){
        $(this).hide();
    });*@
@section testProfile{

    <a class="dropdown-toggle" data-toggle="dropdown">
        <img src=@Model.Url alt="">
        <span>@Model.userName</span>
        <i class="caret"></i>
    </a>
    <ul class="dropdown-menu dropdown-menu-right">

        <li><a href="@Url.Action("logout", "Authentification")"><i class="icon-switch2"></i> Logout</a></li>
    </ul>
}
@section sidebarProfile{

    <a href="#" class="media-left"><img src=@Model.Url class="img-circle img-sm" alt=""></a>
    <div class="media-body">
        <span class="media-heading text-semibold">@Model.userName</span>
        <div class="text-size-mini text-muted">
            <i class="icon-user text-size-small"></i> &nbsp;@Model.pseudoNameEmp
        </div>
    </div>
    <div class="media-right media-middle">

    </div>
}
@section pagetitle{
    <h4> <span class="text-semibold">Espace Qualité</span> -  Accès aux Enregistrements</h4>
}
@section pagetitlebody{
    <li><a href="#"><i class="icon-home2 position-left"></i> Accès aux Enregistrements</a></li>
    <li class="active">Par Compagne</li>
}
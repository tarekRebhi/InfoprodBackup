@model MVCWEB.Models.EvaluationViewModel

@{

    Layout = "~/Views/Shared/_Layout_Qualite.cshtml";
}


@section test{

    <script type='text/javascript'>

		$( document ).ready(function() {
		    $('#planDate').datetimepicker({
		        format: 'DD/MM/YYYY hh:mm',

		    });
		});

    </script>

    <div class="form-horizontal">
        @*<div class="row">
                <div class="col-1">
                    <h6 style="width:25%" class="col-xs-1 control-label"><font color="black"> <b>Date et temps d'évaluation</b></font></h6>
                    <div class="col-xs-4 date">
                        <div class="input-group input-append date">
                            <input type="text" class="form-control" name="date" id="datePicker" />
                            <span class="input-group-addon add-on"><span class="glyphicon glyphicon-calendar"></span></span>
                        </div>
                    </div>
                </div>
            </div>*@
        <div class="row">
            <h6 style="width:25%" class="col-xs-1 control-label"><font color="black"> <b>Date et temps d'évaluation</b></font></h6>
            <div class="col-xs-4 date">
                <div class="input-group input-append date">
                    <input type='text' id='planDate' name="planDate" class="form-control" value="01/04/2018 08:00" lang="fr" style="min-width: 100%" />
                    <span class="input-group-addon add-on"><span class="glyphicon glyphicon-calendar"></span></span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-1">
                <h6 style="width:25%" class="col-xs-1 control-label"><font color="black"><b>Nom Agent:</b></font></h6>
                <div class="col-xs-4">
                    @Html.DropDownList("typeGenerator", Model.agents, htmlAttributes: new { @class = "bootstrap-select", @id = "typeGenerator", @name = "typeGenerator", style = "data-width: 360px;", selected = "selected" })
                    @Html.ValidationMessageFor(model => model.agents, "", new { @class = "text-danger" })

                    @*@Html.DropDownList("SelectedItem", Model.listItems, "-----Select----")*@
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-1">
                <h6 style="width:25%" class="col-xs-1 control-label"><font color="black"><b>Acceuil/Présentation</b></font></h6>

                <div class="col-xs-4">
                    <select class="bootstrap-select" id="acceuil" name="acceuil" style="height: 25px;">

                        <option value="10">OK</option>
                        <option value="0">KO</option>


                    </select>
                </div>
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-1">
                <h6 style="width:25%" class="col-xs-1 control-label"><font color="black"><b>Objet de L"appel</b></font></h6>
                <div class="col-xs-4">
                    <select class="bootstrap-select" id="objetAppel" name="objetAppel" style="height: 35px;">

                        <option value="15">OK</option>
                        <option value="0">KO</option>


                    </select>
                </div>
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col-1">
                <h6 style="width:25%" class="col-xs-1 control-label"><font color="black"><b>Découverte des besoins</b> </font> </h6>
                <div class="col-xs-4">
                    <select class="bootstrap-select" id="decouverte" name="decouverte" style="height: 45px;">

                        <option value="20">OK</option>
                        <option value="0">KO</option>
                        <option value="10">AA</option>
                        <option value="20">NE</option>

                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-1">
                <h6 style="width:25%" class="col-xs-1 control-label"><font color="black"><b>Présentation et Propostion de l'offre</b> </font> </h6>
                <div class="col-xs-4">
                    <select class="bootstrap-select" id="presentation" name="presentation" style="height: 45px;">

                        <option value="25">OK</option>
                        <option value="0">KO</option>
                        <option value="12.5">AA</option>
                        <option value="25">NE</option>

                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-1">
                <h6 style="width:25%" class="col-xs-1 control-label"><font color="black"><b>Gestion des objections</b></font> </h6>
                <div class="col-xs-4">
                    <select class="bootstrap-select" id="objections" name="objections" style="height: 45px;">

                        <option value="30">OK</option>
                        <option value="0">KO</option>
                        <option value="15">AA</option>
                        <option value="30">NE</option>

                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-1">
                <h6 style="width:25%" class="col-xs-1 control-label"><font color="black"><b>Verrouillage et conclusion du contact</b></font></h6>
                <div class="col-xs-4">
                    <select class="bootstrap-select" id="conclusion" name="conclusion" style="height: 45px;">

                        <option value="30">OK</option>
                        <option value="0">KO</option>
                        <option value="15">AA</option>

                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-1">
                <h6 style="width:25%" class="col-xs-1 control-label"><font color="black"><b>Proposition Cross</b></font></h6>
                <div class="col-xs-4">
                    <select class="bootstrap-select" id="cross" name="cross" style="height: 45px;">

                        <option value="25">OK</option>
                        <option value="0">KO</option>
                        <option value="12.5">AA</option>
                        <option value="25">NE</option>

                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-1">
                <h6 style="width:25%" class="col-xs-1 control-label"><font color="black"><b>Discours</b></font></h6>
                <div class="col-xs-4">
                    <select class="bootstrap-select" id="discours" name="discours" style="height: 45px;">

                        <option value="15">OK</option>
                        <option value="0">KO</option>
                        <option value="7.5">AA</option>

                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-1">
                <h6 style="width:25%" class="col-xs-1 control-label"><font color="black"><b>Attitude</b></font></h6>
                <div class="col-xs-4">
                    <select class="bootstrap-select" id="attitude" name="attitude" style="height: 45px;">

                        <option value="10">OK</option>
                        <option value="0">KO</option>
                        <option value="5">AA</option>

                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-1">
                <h6 style="width:25%" class="col-xs-1 control-label"><font color="black"><b>Prise de congé</b></font></h6>
                <div class="col-xs-4">
                    <select class="bootstrap-select" id="conge" name="conge" style="height: 45px;">

                        <option value="10">OK</option>
                        <option value="0">KO</option>


                    </select>
                </div>
            </div>
        </div>

        <br /><br />
        <div class="text-md-center">
            <button type="submit" id="imedSave" class="btn bg-teal-400" data-title="Sauvegarder Alerte" value="Enregistrer" data-toggle="modal">Evaluer Enregistrement <i class="icon-arrow-right14 position-fixed"></i></button>
        </div>
    </div>
    <div id="view"></div>

}
@*<div>
        @Html.ActionLink("Back to List", "Index")
    </div>*@
<script>
        $('#datePicker')
               .daterangepicker({
                   singleDatePicker: true,
                   locale: {
                       setDate: new Date(),
                       format: 'DD/MM/YYYY',
                       "daysOfWeek": [
            "Dim",
            "Lun",
            "Mar",
            "Mer",
            "Jeu",
            "Ven",
            "Sam"
                       ],
                       "monthNames": [
                           "Jan",
                           "Fev",
                           "Mar",
                           "Avr",
                           "Mai",
                           "Ju",
                           "Jui",
                           "Aou",
                           "Sep",
                           "Oct",
                           "Nov",
                           "December"
                       ],
                   },
                   lan: 'fr',
                   autoclose: true,
               })
               .on('changeDate', function (e) {
                   $('#datepicker').hide();
               });

</script>
<script type="text/javascript">

        $(document).ready(function () {
            $(document).on("click", "#imedSave", function () {
                //var username = $("typeGenerator").val();
                //var acceuil = $("acceuil").val();
                //var objetAppel = $("objetAppel").val();
                //var decouverte = $("decouverte").val();
                //var presentation = $("presentation").val();
                //var objections = $("objections").val();
                //var conclusion = $("conclusion").val();
                //var cross = $("cross").val();
                //var discours = $("discours").val();
                //var attitude = $("attitude").val();
                //var conge = $("conge").val();
                //var dateTest = $("planDate").val();
                $.ajax({
                    url: '/Evaluation/PostPromo',
                    type: 'POST',
                    datatype: 'json',
                    data: {
                         username : $("#typeGenerator").val(),
                         acceuil : $("#acceuil").val(),
                         objetAppel : $("#objetAppel").val(),
                         decouverte : $("#decouverte").val(),
                         presentation : $("#presentation").val(),
                         objections : $("#objections").val(),
                         conclusion : $("#conclusion").val(),
                         cross : $("#cross").val(),
                         discours : $("#discours").val(),
                         attitude : $("#attitude").val(),
                         conge : $("#conge").val(),
                         dateTest: $("#planDate").val()
                    },
                    async: true,
                    success: function (data) {
                        $('#view').html(data);
                        $('#Result2').modal('show');


                        //alert("utilisateur"+" "+$("#typeGenerator").val()+" "+""+ $("#datePicker").val())
                    },
                    //complete: function () {
                    //    $('#loadimage').hide();
                    //    $('#explore1').show();

                    //}
                });
            })
        })
</script>
}



